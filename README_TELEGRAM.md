# Интеграция с Telegram через Netlify Functions

Этот проект использует Netlify Functions для отправки данных из формы записи на тестирование в Telegram группу без необходимости запуска отдельного сервера.

## Преимущества данного подхода

1. Не требуется запускать отдельный сервер для обработки запросов
2. Автоматическое масштабирование в зависимости от нагрузки
3. Бесплатный хостинг для небольших проектов
4. Встроенная поддержка HTTPS
5. Простое развертывание через Git

## Настройка Telegram бота

1. Создайте нового бота в Telegram, используя [@BotFather](https://t.me/BotFather)
   - Отправьте команду `/newbot`
   - Следуйте инструкциям для создания бота
   - Сохраните полученный токен бота (TELEGRAM_BOT_TOKEN)

2. Добавьте бота в вашу группу Telegram
   - Создайте новую группу или используйте существующую
   - Добавьте бота в группу как участника
   - Назначьте бота администратором группы

3. Получите ID вашей группы
   - Отправьте сообщение в группу
   - Перейдите по URL: `https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates`
   - Найдите значение `chat.id` в ответе (это будет TELEGRAM_CHAT_ID)

## Локальная разработка

1. Установите зависимости:
   ```
   npm install
   ```

2. Создайте файл `.env` в корне проекта со следующим содержимым:
   ```
   TELEGRAM_BOT_TOKEN=ваш_токен_бота
   TELEGRAM_CHAT_ID=ид_вашей_группы
   ```

3. Запустите локальный сервер разработки:
   ```
   npm start
   ```

4. Откройте браузер и перейдите по адресу: `http://localhost:8888`

## Развертывание на Netlify

1. Создайте аккаунт на [Netlify](https://www.netlify.com/) (если у вас его еще нет)

2. Установите Netlify CLI (если еще не установлен):
   ```
   npm install -g netlify-cli
   ```

3. Войдите в свой аккаунт Netlify:
   ```
   netlify login
   ```

4. Инициализируйте проект Netlify:
   ```
   netlify init
   ```
   - Следуйте инструкциям для создания нового сайта

5. Добавьте переменные окружения в настройках сайта на Netlify:
   - Перейдите в раздел "Site settings" > "Environment variables"
   - Добавьте переменные `TELEGRAM_BOT_TOKEN` и `TELEGRAM_CHAT_ID`

6. Разверните проект:
   ```
   netlify deploy --prod
   ```

## Как это работает

1. Пользователь заполняет форму записи на тестирование и нажимает кнопку "Записаться"
2. JavaScript отправляет данные формы на Netlify Function
3. Netlify Function форматирует данные и отправляет их в Telegram группу
4. Пользователь видит сообщение об успешной записи

## Структура проекта

- `index.html` - HTML-страница с формой записи
- `script.js` - JavaScript-код для обработки формы и отправки данных
- `styles.css` - CSS-стили для страницы
- `netlify/functions/telegram-webhook.js` - Бессерверная функция для отправки данных в Telegram
- `netlify.toml` - Конфигурация Netlify
- `package.json` - Зависимости проекта

## Примечания

- Бесплатный план Netlify имеет ограничения на количество вызовов функций (125K в месяц)
- Для продакшн-среды рекомендуется использовать платный план, если ожидается большое количество запросов 